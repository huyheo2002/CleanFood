{% extends 'app/base.html' %} {% load static %}
{% block head-content %}
<title>Giỏ hàng</title>
<link rel="stylesheet" href="{% static 'css/store.css' %}" />
<link rel="stylesheet" href="{% static 'css/style.css' %}" />
<link rel="stylesheet" href="{% static 'responsive/base.css' %}" />
<style>
    th {
        text-align: center;
    }

    .table td,
    .table th {
        border: 1px solid #000;
    }

    .table thead th {
        border-bottom: 1px solid #000;
    }

    .title {
        padding: 15px 25px;
    }

    /* layout */
    .index-product {
        width: 15%;
        text-align: center;
    }

    .image-product-wrap {
        width: 10%;
        height: auto;
    }

    .image-product-wrap img {
        width: 100%;
        height: 100%;
    }

    .name-product {
        width: 40%;
    }

    .value-product {
        width: 20%;
    }

    .count-product {
        width: 15%;
        text-align: center;
    }

    .table td,
    .table th {
        vertical-align: unset;
    }

    .sumValue {
        display: inline-block;
        font-size: 16px;
        font-weight: 400;
    }

    /* action */
    .product__action {
        display: flex;
        justify-content: space-around;
        margin-top: 20px;
    }

    .product__btnCancel,
    .product__btnAddToCart {
        width: 200px;
        height: 45px;
        line-height: 45px;
        text-align: center;
        background-color: #ea8025;
        color: #fff;
        font-size: 14px;
        font-weight: 600;
        border: #ea8025 1px solid;
        text-transform: uppercase;
        border-radius: 10px;
        cursor: pointer;
        transition: all linear 0.5s;
        user-select: none;
    }

    .product__btnCancel:hover,
    .product__btnAddToCart:hover {
        box-shadow: inset 200px 0 0 0 #fff;
        color: #ea8025;
    }

    .product__btnCancel a {
        text-decoration: none;
        color: #fff;
        display: block;
    }

    .product__btnCancel:hover a {
        color: #ea8025;
    }

    h4 {
        text-align: center;
    }

    a {
        text-decoration: none !important;
    }    

    .plus-button {
        background-color: #4CAF50;
        color: #fff;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 3px;
        margin-left: 15px;
        transition: background-color 0.3s;
    }

    .plus-button:hover {
        background-color: #45a049;
    }
  
    .minus-button {
        background-color: #f44336;
        color: #fff;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 3px;
        margin-right: 15px;
        transition: background-color 0.3s;
    }

    .minus-button:hover {
        background-color: #e53935;
    }
  
</style>
{% comment %} <link rel="stylesheet" href="{% static 'css/style.css' %}" /> {% endcomment %}
{% endblock head-content %}
{% block main-content %}
<h4 class="title" style="margin-top: 80px">Giỏ hàng</h4>
<div class="table-responsive">
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Ảnh</th>
                <th scope="col">Tên sản phẩm</th>
                <th scope="col">Giá tiền</th>
                <th scope="col">Số lượng</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
                <tr>
                    <td class="image-product-wrap">
                        <img src="{% if item.product.thumbnail %} {{ item.product.thumbnail.url }}{% else %}https://img.freepik.com/premium-vector/window-operating-system-error-warning-dialog-window-popup-message-with-system-failure-flat-design_812892-54.jpg{% endif %}" alt="">
                    </td>
                    <td class="name-product">{{item.product.name}}</td>
                    <td class="value-product">{{item.product.price | floatformat:3}} đ</td>
                    {% comment %} <td class="count-product">{{item.quantity}}</td> {% endcomment %}
                    <td class="count-product">
                        <button 
                            data-product={{item.product.id}}
                            data-action="remove"
                            class="minus-button update-cart">-</button>
                        <span id="quantity">{{item.quantity}}</span>
                        <button 
                            data-product={{item.product.id}}
                            data-action="add"
                            class="plus-button update-cart">+</button>
                    </td>                      
                </tr> 
            {% endfor %}                          
        </tbody>
        <tfoot>
            <tr>
                <th colspan="5" scope="col">Tổng tiền thanh toán : <p class="sumValue" style="margin-bottom: 0;">{{order.get_cart_total | floatformat:3}} đ</p>
                </th>
            </tr>
        </tfoot>
    </table>
</div>
<!-- <h4>Chọn phương thức thanh toán</h4> -->

<div class="product__action" style="margin-bottom: 35px">
    <div class="product__btnCancel">
        <a href="/menu">Tiếp tục mua hàng</a>
    </div>    

    <a href="/checkout">
        <div class="product__btnAddToCart">
            Thanh toán
        </div>
    </a>
</div>
<script src="{%static 'js/cart.js'%}"></script> 
{% endblock main-content %}
