{% extends 'app/base.html' %} {% load static %}
{% block head-content %}
<title>Giỏ hàng</title>
<link rel="stylesheet" href="{% static 'css/store.css' %}" />
<link rel="stylesheet" href="{% static 'css/style.css' %}" />
<link rel="stylesheet" href="{% static 'responsive/base.css' %}" />
<style>
  th {
      text-align: center;
  }

  .table td,
  .table th {
      border: 1px solid #000;
  }

  .table thead th {
      border-bottom: 1px solid #000;
  }

  .title {
      padding: 15px 25px;
  }

  /* layout */
  .index-product {
      width: 15%;
      text-align: center;
  }

  .image-product-wrap {
      width: 10%;
      height: auto;
  }

  .image-product-wrap img {
      width: 100%;
      height: 100%;
  }

  .name-product {
      width: 40%;
  }

  .value-product {
      width: 20%;
  }

  .count-product {
      width: 15%;
      text-align: center;
  }

  .table td,
  .table th {
      vertical-align: unset;
  }

  .sumValue {
      display: inline-block;
      font-size: 16px;
      font-weight: 400;
  }

  /* action */
  .product__action {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
  }

  .product__btnCancel,
  .product__btnAddToCart {
      width: 200px;
      height: 45px;
      line-height: 45px;
      text-align: center;
      background-color: #ea8025;
      color: #fff;
      font-size: 14px;
      font-weight: 600;
      border: #ea8025 1px solid;
      text-transform: uppercase;
      border-radius: 10px;
      cursor: pointer;
      transition: all linear 0.5s;
      user-select: none;
  }

  .product__btnCancel:hover,
  .product__btnAddToCart:hover {
      box-shadow: inset 200px 0 0 0 #fff;
      color: #ea8025;
  }

  .product__btnCancel a {
      text-decoration: none;
      color: #fff;
      display: block;
  }

  .product__btnCancel:hover a {
      color: #ea8025;
  }

  h4 {
      text-align: center;
  }

  a {
      text-decoration: none !important;
  }

  /* fix modal :v */
  .modal__body {
      margin-top: 20px;
  }

  .modal__body_codeOrder {
      color: #191919;
      padding: 5px 0;
      text-align: center;
  }

  .modal__body_codeOrderimp {
      color: #ea8025;
      letter-spacing: 3px;
  }

  .modal__btnPayWrapper {
      display: flex;
      justify-content: space-around;
      align-items: center;
  }

  .modal__bodyOrderSuccess {
      width: 150px;
      height: 150px;
      margin: auto;
  }
</style>
{% comment %} <link rel="stylesheet" href="{% static 'css/style.css' %}" /> {% endcomment %}
{% endblock head-content %}
{% block main-content %}
<h4 class="title" style="margin-top: 80px">Thanh toán sản phẩm</h4>
<div class="table-responsive">
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Số thứ tự</th>
                <th scope="col">Ảnh</th>
                <th scope="col">Tên sản phẩm</th>
                <th scope="col">Giá tiền</th>
                <th scope="col">Số lượng</th>
            </tr>
        </thead>
        <tbody>
          <tr>
              <th scope="row" class="index-product">1</th>
              <td class="image-product-wrap">
                  <img src="{%static "images/logo.png"%}" alt="">
              </td>
              <td class="name-product">hello</td>
              <td class="value-product">120.000 đ</td>
              <td class="count-product">5</td>
          </tr>          
          <tr>
            <th scope="row" class="index-product">1</th>
            <td class="image-product-wrap">
                <img src="{%static "images/logo.png"%}" alt="">
            </td>
            <td class="name-product">hello</td>
            <td class="value-product">120.000 đ</td>
            <td class="count-product">5</td>
          </tr>
          <tr>
            <th scope="row" class="index-product">1</th>
            <td class="image-product-wrap">
                <img src="{%static "images/logo.png"%}" alt="">
            </td>
            <td class="name-product">hello</td>
            <td class="value-product">120.000 đ</td>
            <td class="count-product">5</td>
          </tr>
          <tr>
            <th scope="row" class="index-product">1</th>
            <td class="image-product-wrap">
                <img src="{%static "images/logo.png"%}" alt="">
            </td>
            <td class="name-product">hello</td>
            <td class="value-product">120.000 đ</td>
            <td class="count-product">5</td>
          </tr>
        </tbody>
        <tfoot>
            <tr>
                <th colspan="5" scope="col">Tổng tiền thanh toán : <p class="sumValue" style="margin-bottom: 0;">120.000 đ</p>
                </th>
            </tr>
        </tfoot>
    </table>
</div>
<!-- <h4>Chọn phương thức thanh toán</h4> -->

<div class="product__action" style="margin-bottom: 35px">
    <div class="product__btnCancel">
        <a href="">Thoát</a>
    </div>

    <div class="product__btnAddToCart js-login">
        Đặt hàng
    </div>

    <a href="">
        <div class="product__btnAddToCart">
            Thanh toán Online
        </div>
    </a>
</div>

<div class="modal js-modalConfirm">
  <div class="modal__container js-modalContainerConfirm">
      <div class="modal__header">
          <div class="modal__header__title">
              Đặt hàng thành công
          </div>
      </div>

      <div class="modal__body">
          <div style="display: flex; justify-content: center; margin-bottom: 10px;">
              <img src="{%static "images/logo.png"%}" alt="" class="modal__bodyOrderSuccess">
          </div>

          <h4 class="modal__body_codeOrder">Đơn hàng của bạn đang được giao vui lòng chờ trong chốc lát</h4>
          <h4 class="modal__body_codeOrder">
              Mã đơn hàng của bạn là:
              <span class="modal__body_codeOrderimp">
                  123123132
              </span>
          </h4>
          <h4 class="modal__body_codeOrder">
              Tổng tiền thanh toán của bạn là:
              <span class="modal__body_codeOrderimp">
                  120.000 VNĐ
              </span>
          </h4>

          <div class="modal__btnPayWrapper">
              <button class="modal__login js-modal-close" id="btnReturn" type="submit" name="submit" style="margin-right: 10px">
                  Quay về trang chủ
              </button>

              <button class="modal__login" id="btnContinueBuy" type="submit" name="submit" style="margin-left: 10px">
                  Tiếp tục mua hàng
              </button>
          </div>
      </div>
  </div>
</div>

<script>
  // modal xác nhận đơn hàng
  // modal login
  // phần modal-login
  const loginHead = document.querySelector(".js-login")
  const modal = document.querySelector(".js-modal")
  const modalContainer = document.querySelector(".js-modalContainer")
  const modalClose = document.querySelector(".js-modal-close")

  // hàm hiển thị modal login (thêm class open vào modal)
  function showModalLogin() {
      modal.classList.add("open")
  }

  // hàm ẩn modal login (xóa class open khỏi của modal)
  function hideModalLogin() {
      modal.classList.remove("open")
  }

  // nghe hành vi click vào phần login trên header
  loginHead.addEventListener("click", showModalLogin)

  // nghe hành vi click vào phần close trong modal
  modalClose.addEventListener("click", hideModalLogin)

  modal.addEventListener("click", hideModalLogin)

  modalContainer.addEventListener("click", function(event) {
      event.stopPropagation()
  })

  // modal đặt hàng thành công :V
  // modal confirm
  // phần modal-login
  const btnConfirm = document.querySelector("#btnConfirm")
  const modalConfirm = document.querySelector(".js-modalConfirm")
  const modalContainerConfirm = document.querySelector(".js-modalContainerConfirm")
  const modalCloseConfirm = document.querySelector(".js-modal-closeConfirm")
  // check data :v 
  const inpAddress = document.querySelector("#modal-user");
  const inpPhone = document.querySelector("#modal-pass");
  // console.log(typeof inpAddress);

  // hàm hiển thị modal login (thêm class open vào modal)
  function showModalPayOrder() {
      if (inpAddress.value !== "" && inpPhone.value !== "" && (inpPhone.value.length === 10 || inpPhone.value.length === 11)) {
          modalConfirm.classList.add("open")
          modal.classList.remove("open")
          inpAddress.style.borderColor = "#ccc";
          inpPhone.style.borderColor = "#ccc";
          inpPhone.value = "";
          
      } else {
          if (inpAddress.value === "") {
              inpAddress.placeholder = "Bạn chưa nhập địa chỉ";
              inpAddress.style.borderColor = "red";
              inpPhone.value = "";
          }

          if (inpPhone.value === "") {
              inpPhone.placeholder = "Bạn chưa nhập số điện thoại";
              inpPhone.style.borderColor = "red";
          }

          if (!(inpPhone.value.length == 10 || inpPhone.value.length == 11)) {
              inpPhone.placeholder = "Bạn vui lòng nhập đúng số điện thoại";
              inpPhone.style.borderColor = "red";
              inpPhone.value = "";
          }
      }
  }

  // hàm ẩn modal login (xóa class open khỏi của modal)
  function hideModalPayOrder() {
      modalConfirm.classList.remove("open")
  }

  // nghe hành vi click vào phần login trên header
  btnConfirm.addEventListener("click", showModalPayOrder)

  // nghe hành vi click vào phần close trong modal
  // modalCloseConfirm.addEventListener("click", hideModalPayOrder)

  modalConfirm.addEventListener("click", hideModalPayOrder)

  modalContainerConfirm.addEventListener("click", function(event) {
      event.stopPropagation()
  })
</script>
{% endblock main-content %}
